{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Downloads/IntervueAI-main/IntervueAI-main/firebass/admin.ts"],"sourcesContent":["import { initializeApp, getApps, cert } from \"firebase-admin/app\";\nimport { getAuth } from \"firebase-admin/auth\";\nimport { getFirestore } from \"firebase-admin/firestore\";\n\n// Initialize Firebase Admin SDK\nfunction initFirebaseAdmin() {\n  const apps = getApps();\n\n  if (!apps.length) {\n    initializeApp({\n      credential: cert({\n        projectId: process.env.FIREBASE_PROJECT_ID,\n        clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n        // Replace newlines in the private key\n        privateKey: process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, \"\\n\"),\n      }),\n    });\n  }\n\n  return {\n    auth: getAuth(),\n    db: getFirestore(),\n  };\n}\n\nexport const { auth, db } = initFirebaseAdmin();"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;;AAEA,gCAAgC;AAChC,SAAS;IACP,MAAM,OAAO,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD;IAEnB,IAAI,CAAC,KAAK,MAAM,EAAE;QAChB,CAAA,GAAA,gJAAA,CAAA,gBAAa,AAAD,EAAE;YACZ,YAAY,CAAA,GAAA,gJAAA,CAAA,OAAI,AAAD,EAAE;gBACf,WAAW,QAAQ,GAAG,CAAC,mBAAmB;gBAC1C,aAAa,QAAQ,GAAG,CAAC,qBAAqB;gBAC9C,sCAAsC;gBACtC,YAAY,QAAQ,GAAG,CAAC,oBAAoB,EAAE,QAAQ,QAAQ;YAChE;QACF;IACF;IAEA,OAAO;QACL,MAAM,CAAA,GAAA,kJAAA,CAAA,UAAO,AAAD;QACZ,IAAI,CAAA,GAAA,4JAAA,CAAA,eAAY,AAAD;IACjB;AACF;AAEO,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Downloads/IntervueAI-main/IntervueAI-main/lib/actions/auth.action.ts"],"sourcesContent":["'use server';\nimport { auth, db } from \"@/firebass/admin\";\nimport { cookies } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\nconst TWO_WEEKS = 60 * 60 * 24 * 14;\n\nexport async function signUp(params: SignUpParams){\n    const { uid, name, email } = params;\n    try{\n      const userRecord = await db.collection('users').doc(uid).get();\n      if (userRecord.exists){\n        return {\n            success: false,\n            message: 'User already exists. Please sign in Instead'\n        }\n      }\n      await db.collection('users').doc(uid).set({name, email});\n      return {\n        success: true,\n        message: 'User created successfully',\n      }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (e: any) {\n        console.error('Error creating a user', e);\n        if (e.code === 'auth/email-already-in-use'){\n            return { success: false, message: 'Email already in use' };\n        }\n   \n    return {\n        success: false,\n        message: 'Failed to create an account',\n    }\n}\n}\n\nexport async function signIn(params: SignInParams){\n    const { email, idToken} = params;\n    try {\n        const userRecord = await auth.getUserByEmail(email);\n        if(!userRecord){\n            return{\n                success: false,\n                message: 'User does not exist. Create an account instead.'\n            }\n        }\n        await setSessionCookie(idToken);\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport async function setSessionCookie(idToken: string){\n    const cookieStore = await cookies();\n\n    const sessionCookie = await auth.createSessionCookie(idToken, {expiresIn: TWO_WEEKS   * 1000 });\n\n    cookieStore.set('session', sessionCookie,{\n        maxAge: TWO_WEEKS,\n        httpOnly: true,\n        secure: process.env.NODE_ENV === 'production',\n        path:'/',\n        sameSite:'lax',\n    })\n}\n\nexport async function getCurrentUser(): Promise<User | null> {\n    const cookieStore = await cookies();\n    const sessionCookie = cookieStore.get(\"session\")?.value;\n\n    if(!sessionCookie) return null;\n    try {\n        const decodedClaims = await auth.verifySessionCookie(sessionCookie, true);\n\n        const userRecord = await db. collection('users')\n        .doc(decodedClaims.uid)\n        .get();\n        if(!userRecord.exists)return null;\n        return {\n            ...userRecord.data(),\n            id: userRecord.id,\n        } as User;\n    } catch (e) {\n        console.log('Error verifying session cookie', e);\n        return null;\n    }\n}\n\nexport async function isAuthenticated(){\n    const user = await getCurrentUser();\n\n    return !!user;\n}\n\n// Sign out user by clearing the session cookie\nexport async function signOut() {\n    const cookieStore = await cookies();\n  \n    cookieStore.delete(\"session\");\n    \n  }\n\n\n"],"names":[],"mappings":";;;;;;;;;;AACA;AACA;;;;;;;;;;AAEA,MAAM,YAAY,KAAK,KAAK,KAAK;AAE1B,eAAe,uCAAI,GAAJ,OAAO,MAAoB;IAC7C,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG;IAC7B,IAAG;QACD,MAAM,aAAa,MAAM,iHAAA,CAAA,KAAE,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,KAAK,GAAG;QAC5D,IAAI,WAAW,MAAM,EAAC;YACpB,OAAO;gBACH,SAAS;gBACT,SAAS;YACb;QACF;QACA,MAAM,iHAAA,CAAA,KAAE,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,KAAK,GAAG,CAAC;YAAC;YAAM;QAAK;QACtD,OAAO;YACL,SAAS;YACT,SAAS;QACX;IACF,8DAA8D;IAC9D,EAAE,OAAO,GAAQ;QACb,QAAQ,KAAK,CAAC,yBAAyB;QACvC,IAAI,EAAE,IAAI,KAAK,6BAA4B;YACvC,OAAO;gBAAE,SAAS;gBAAO,SAAS;YAAuB;QAC7D;QAEJ,OAAO;YACH,SAAS;YACT,SAAS;QACb;IACJ;AACA;AAEO,eAAe,uCAAI,GAAJ,OAAO,MAAoB;IAC7C,MAAM,EAAE,KAAK,EAAE,OAAO,EAAC,GAAG;IAC1B,IAAI;QACA,MAAM,aAAa,MAAM,iHAAA,CAAA,OAAI,CAAC,cAAc,CAAC;QAC7C,IAAG,CAAC,YAAW;YACX,OAAM;gBACF,SAAS;gBACT,SAAS;YACb;QACJ;QACA,MAAM,iBAAiB;IAC3B,EAAE,OAAO,GAAG;QACR,QAAQ,GAAG,CAAC;IAChB;AACJ;AAEO,eAAe,uCAAc,GAAd,iBAAiB,OAAe;IAClD,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAEhC,MAAM,gBAAgB,MAAM,iHAAA,CAAA,OAAI,CAAC,mBAAmB,CAAC,SAAS;QAAC,WAAW,YAAc;IAAK;IAE7F,YAAY,GAAG,CAAC,WAAW,eAAc;QACrC,QAAQ;QACR,UAAU;QACV,QAAQ,oDAAyB;QACjC,MAAK;QACL,UAAS;IACb;AACJ;AAEO,eAAe,uCAAY,GAAZ;IAClB,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChC,MAAM,gBAAgB,YAAY,GAAG,CAAC,YAAY;IAElD,IAAG,CAAC,eAAe,OAAO;IAC1B,IAAI;QACA,MAAM,gBAAgB,MAAM,iHAAA,CAAA,OAAI,CAAC,mBAAmB,CAAC,eAAe;QAEpE,MAAM,aAAa,MAAM,iHAAA,CAAA,KAAE,CAAE,UAAU,CAAC,SACvC,GAAG,CAAC,cAAc,GAAG,EACrB,GAAG;QACJ,IAAG,CAAC,WAAW,MAAM,EAAC,OAAO;QAC7B,OAAO;YACH,GAAG,WAAW,IAAI,EAAE;YACpB,IAAI,WAAW,EAAE;QACrB;IACJ,EAAE,OAAO,GAAG;QACR,QAAQ,GAAG,CAAC,kCAAkC;QAC9C,OAAO;IACX;AACJ;AAEO,eAAe,uCAAa,GAAb;IAClB,MAAM,OAAO,MAAM;IAEnB,OAAO,CAAC,CAAC;AACb;AAGO,eAAe,uCAAK,GAAL;IAClB,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAEhC,YAAY,MAAM,CAAC;AAErB;;;IA7FoB;IA6BA;IAgBA;IAcA;IAsBA;IAOA;;AAxFA,+OAAA;AA6BA,+OAAA;AAgBA,+OAAA;AAcA,+OAAA;AAsBA,+OAAA;AAOA,+OAAA","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Downloads/IntervueAI-main/IntervueAI-main/components/HomeLoginbtn.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/HomeLoginbtn.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/HomeLoginbtn.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Downloads/IntervueAI-main/IntervueAI-main/components/HomeLoginbtn.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/HomeLoginbtn.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/HomeLoginbtn.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pc/Downloads/IntervueAI-main/IntervueAI-main/app/%28root%29/layout.tsx"],"sourcesContent":["import React, { ReactNode } from 'react'\nimport { isAuthenticated } from '@/lib/actions/auth.action'\nimport { redirect } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport HomeLoginbtn from '@/components/HomeLoginbtn';\nconst Rootlayout = async ({children} : {children: ReactNode}) => {\n  const isUserAuthenticated = await isAuthenticated();\n      if (isUserAuthenticated) redirect('/dashboard');\n  return (\n    <div className='root-layout'>\n      <nav className='flex items-center justify-between   shadow'>\n        <Link href=\"/dashboard\" className='flex items-center gap-2' >\n        <Image src=\"/logo.svg\" alt=\"Logo\" width={38} height={32}/>\n        <h2 className='text-primary-100'>IntervueAI</h2>\n        </Link>\n        \n       <Link href=\"/sign-in\">\n        <HomeLoginbtn /></Link>\n      </nav>\n      {children}\n    </div>\n  )\n}\n\nexport default Rootlayout"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;AACA,MAAM,aAAa,OAAO,EAAC,QAAQ,EAAyB;IAC1D,MAAM,sBAAsB,MAAM,CAAA,GAAA,gIAAA,CAAA,kBAAe,AAAD;IAC5C,IAAI,qBAAqB,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACtC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAa,WAAU;;0CAClC,8OAAC,6HAAA,CAAA,UAAK;gCAAC,KAAI;gCAAY,KAAI;gCAAO,OAAO;gCAAI,QAAQ;;;;;;0CACrD,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;;;;;;;kCAGlC,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;kCACV,cAAA,8OAAC,2HAAA,CAAA,UAAY;;;;;;;;;;;;;;;;YAEd;;;;;;;AAGP;uCAEe","debugId":null}}]
}